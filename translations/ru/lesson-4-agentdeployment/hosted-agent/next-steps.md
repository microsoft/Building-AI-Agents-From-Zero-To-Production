<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "c66e79243b2f1c2bd8ba0105275c427e",
  "translation_date": "2025-12-12T19:26:21+00:00",
  "source_file": "lesson-4-agentdeployment/hosted-agent/next-steps.md",
  "language_code": "ru"
}
-->
# Следующие шаги после `azd init`

## Содержание

1. [Следующие шаги](../../../../lesson-4-agentdeployment/hosted-agent)
   1. [Развертывание инфраструктуры](../../../../lesson-4-agentdeployment/hosted-agent)
   2. [Изменение инфраструктуры](../../../../lesson-4-agentdeployment/hosted-agent)
   3. [Подготовка к продакшену](../../../../lesson-4-agentdeployment/hosted-agent)
2. [Оплата](../../../../lesson-4-agentdeployment/hosted-agent)
3. [Устранение неполадок](../../../../lesson-4-agentdeployment/hosted-agent)

## Следующие шаги

### Развертывание инфраструктуры и деплой кода приложения

Запустите `azd up`, чтобы развернуть инфраструктуру и выполнить деплой в Azure за один шаг (или запустите `azd provision`, а затем `azd deploy`, чтобы выполнить задачи отдельно). Посетите указанные конечные точки сервиса, чтобы увидеть ваше приложение в работе!

Для устранения неполадок смотрите [устранение неполадок](../../../../lesson-4-agentdeployment/hosted-agent).

### Изменение инфраструктуры

Для описания инфраструктуры и приложения был добавлен файл `azure.yaml`. Этот файл содержит все сервисы и ресурсы, описывающие ваше приложение.

Чтобы добавить новые сервисы или ресурсы, запустите `azd add`. При необходимости вы также можете редактировать файл `azure.yaml` напрямую.

### Подготовка к продакшену

При необходимости `azd` генерирует требуемую инфраструктуру как код в памяти и использует её. Если вы хотите увидеть или изменить инфраструктуру, которую использует `azd`, запустите `azd infra gen`, чтобы сохранить её на диск.

Если вы это сделаете, будут созданы дополнительные каталоги:

```yaml
- infra/            # Infrastructure as Code (bicep) files
  - main.bicep      # main deployment module
  - resources.bicep # resources shared across your application's services
  - modules/        # Library modules
```

*Примечание*: После того, как вы сгенерируете инфраструктуру на диск, эти файлы становятся источником истины для azd. Любые изменения в `azure.yaml` (например, через `azd add`) не будут отражены в инфраструктуре, пока вы не сгенерируете её заново с помощью `azd infra gen`. Перед перезаписью файлов будет выдан запрос на подтверждение. Вы можете использовать `--force`, чтобы принудительно перезаписать файлы без запроса.

Наконец, запустите `azd pipeline config` для настройки CI/CD конвейера развертывания.

## Оплата

Посетите страницу *Cost Management + Billing* в Azure Portal, чтобы отслеживать текущие расходы. Для получения дополнительной информации о том, как происходит оплата и как вы можете контролировать затраты в ваших подписках Azure, посетите [обзор оплаты](https://learn.microsoft.com/azure/developer/intro/azure-developer-billing).

## Устранение неполадок

В: Я посетил указанный конечный пункт сервиса, и вижу пустую страницу, общую страницу приветствия или страницу с ошибкой.

О: Ваш сервис мог не запуститься или ему могут не хватать некоторых настроек конфигурации. Чтобы исследовать проблему дальше:

1. Запустите `azd show`. Нажмите на ссылку под "View in Azure Portal", чтобы открыть группу ресурсов в Azure Portal.
2. Перейдите к конкретному сервису Container App, который не удалось развернуть.
3. Нажмите на неудачное ревизию в разделе "Revisions with Issues".
4. Просмотрите "Status details" для получения дополнительной информации о типе ошибки.
5. Просмотрите выводы логов из Console log stream и System log stream, чтобы выявить ошибки.
6. Если логи записываются на диск, используйте *Console* в навигации, чтобы подключиться к оболочке внутри запущенного контейнера.

Для дополнительной информации по устранению неполадок посетите [устранение неполадок Container Apps](https://learn.microsoft.com/azure/container-apps/troubleshooting). 

### Дополнительная информация

Для дополнительной информации о настройке вашего проекта `azd` посетите нашу официальную [документацию](https://learn.microsoft.com/azure/developer/azure-developer-cli/make-azd-compatible?pivots=azd-convert).

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Отказ от ответственности**:  
Этот документ был переведен с помощью сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия обеспечить точность, имейте в виду, что автоматический перевод может содержать ошибки или неточности. Оригинальный документ на его исходном языке следует считать авторитетным источником. Для критически важной информации рекомендуется профессиональный перевод человеком. Мы не несем ответственности за любые недоразумения или неправильные толкования, возникшие в результате использования данного перевода.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->